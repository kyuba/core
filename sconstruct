import os, glob

env = Environment();

db2X = [ 'html', 'txt', 'rtf' ]

def buildDocumentation(target, source, env):
  global db2X

  for i in source:
    for j in target:
      for t in db2X:
        os.system ('docbook2' + t + ' ' + str(i) + ' --output documentation/' + t + '-' + str(j) + '  --nochunks')

  return None

docsBuilder = Builder(action = buildDocumentation)
env.Append (BUILDERS = { 'Documentation' : docsBuilder })

docsource = glob.glob ('documentation/*.xml')

for i in docsource:
  env.Documentation('reference', i)
